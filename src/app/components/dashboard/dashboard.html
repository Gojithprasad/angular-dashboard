<div class="dashboard-layout">

  <!-- SIDEBAR -->
  <app-sidebar></app-sidebar>

  <!-- RIGHT CONTENT -->
  <main class="dashboard-content">

    <!-- MOBILE TOP BAR -->
    <div class="mobile-topbar">
      <div class="mobile-user">
        <img src="assets/images/user.png" />
        <div>
          <strong>Catherine</strong>
          <small>+91 9876543210</small>
        </div>
      </div>

      
      <button class="mobile-logout" (click)="logout()">
        Log out
      </button>
    </div>

    <!-- HEADER -->
    <h2 class="fw-semibold mb-1">Dashboard</h2>
    <p class="text-muted mb-3">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit
    </p>

    <!-- ALERT -->
    <div class="alert-pill mb-4">
      <span class="alert-icon">i</span>
      You Have <b>32 Support Request Pending</b> for Response
      <a class="alert-link">View</a>
    </div>

    <!-- STATS -->
    <div class="row g-4 mb-4">
      <div
        class="col-xl-3 col-lg-6 col-md-6"
        *ngFor="let stat of stats"
      >
        <div class="stat-card" [ngClass]="stat.color">
          <p class="stat-title">{{ stat.title }}</p>

          <h3 class="stat-value">{{ stat.value }}</h3>

          <div class="stat-footer">
            <span class="stat-pill">
              {{ stat.percent }}
              <img
                src="assets/icons/bi_arrow-up-short.svg"
                class="stat-arrow"
                alt="up"
              />
            </span>

            <span class="stat-subtext">
              Since last month
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- TABLE -->
    <h5 class="fw-semibold mb-3">Recently Active Users</h5>

    <div class="card border-0 rounded-4">
      <div class="table-responsive">
        <table class="table users-table mb-0">

          <thead>
            <tr>
              <th>User ID / Name</th>
              <th>Phone Number</th>
              <th>Transaction Category</th>
              <th>Transaction Amount</th>
              <th>Account Type</th>
              <th>Balance Amount</th>
              <th class="text-end">Action</th>
            </tr>
          </thead>

          <tbody>
            <tr *ngFor="let user of displayedUsers">
              <td>
                <div class="fw-semibold">{{ user.name }}</div>
                <small class="text-muted">ID {{ user.userId }}</small>
              </td>
              <td>{{ user.phone }}</td>
              <td>
                <div>{{ user.category }}</div>
                <small class="text-muted">{{ user.subCategory }}</small>
              </td>
              <td class="fw-semibold">{{ user.amount }}</td>
              <td>{{ user.accountType }}</td>
              <td class="fw-semibold">{{ user.balance }}</td>
              <td class="text-end">
                <a class="row-action">View</a>
              </td>
            </tr>
          </tbody>

        </table>
      </div>

      
      <div class="view-all-wrap" *ngIf="users.length > initialCount">
        <button class="view-all-btn" (click)="toggleView()">
          {{ isExpanded ? 'View Less' : 'View All' }}
        </button>
      </div>
    </div>

  </main>
</div>
